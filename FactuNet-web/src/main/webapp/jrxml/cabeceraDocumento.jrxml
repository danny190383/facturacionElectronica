<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="cabeceraDocumento" pageWidth="300" pageHeight="100" whenNoDataType="AllSectionsNoDetail" columnWidth="300" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="e2b0710c-48f6-431f-a84d-69c5e84ff5dd">
	<property name="ireport.zoom" value="3.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="factura" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="id_documento" class="java.lang.Integer"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT observacion, numero, fecha, descripcion, estado, discriminador, codigo_barras FROM factura where codigo = $P{factura}]]>
	</queryString>
	<field name="observacion" class="java.lang.String"/>
	<field name="numero" class="java.lang.Integer"/>
	<field name="fecha" class="java.sql.Timestamp"/>
	<field name="descripcion" class="java.lang.String"/>
	<field name="estado" class="java.lang.String"/>
	<field name="discriminador" class="java.lang.Integer"/>
	<field name="codigo_barras" class="java.lang.String"/>
	<pageHeader>
		<band height="47">
			<staticText>
				<reportElement x="0" y="0" width="36" height="11" uuid="2eddc972-aa71-41a4-b6ed-7b6f4e92e2bb"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[NUMERO]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="10" width="36" height="11" uuid="649d7e71-8399-4c83-a68c-0983892a31c5"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[FECHA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="20" width="36" height="11" uuid="4bcf5a2e-648f-438f-8889-897747a9a17c"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[ESTADO]]></text>
			</staticText>
			<staticText>
				<reportElement x="115" y="0" width="185" height="11" uuid="84f1a20e-1867-48ea-b218-4a34854661e6"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DESCRIPCION]]></text>
			</staticText>
			<textField>
				<reportElement x="40" y="0" width="75" height="11" uuid="bcfcd738-638b-427e-9ee3-6a756263deee"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{observacion} == null  ? "000-000" : $F{observacion}) + "-" + $F{numero}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="115" y="11" width="185" height="25" uuid="3f60feff-0e8e-4874-9eb6-a32d23d36f0b"/>
				<textElement>
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{descripcion} == null ? " " : $F{descripcion}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="40" y="20" width="75" height="11" uuid="d76ddf68-ff3e-4537-b12c-1cf799d51ee3"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{discriminador} == 5 ? ($F{estado}.equals("2") ? "Ingresada" : "Anulada") 
: ($F{discriminador} == 4 ? ($F{estado}.equals("3") ? "Ingresada" : "Anulada"): " "))]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="40" y="10" width="75" height="11" uuid="1f3dea64-80c0-4dd9-b776-75763c62f493"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="114" y="0" width="1" height="36" uuid="9f4ee45f-e07e-4056-9e4b-a582f876572d"/>
			</line>
			<staticText>
				<reportElement x="0" y="36" width="36" height="11" uuid="c2a62dc0-410f-4b75-8f10-f486782d8ef8">
					<printWhenExpression><![CDATA[$F{codigo_barras} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[SRI]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="40" y="36" width="260" height="11" uuid="25691639-ccd1-4d6e-9083-fc5e8d976824"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{codigo_barras}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="36" y="0" width="4" height="11" uuid="1a8171bd-193e-4a2a-b756-2da9b1152b17"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="36" y="10" width="4" height="11" uuid="42ca5f12-f387-46c2-849e-95cc59e5b075"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="36" y="20" width="4" height="11" uuid="bc76e4b0-d92e-4c1c-8eb4-0657671ee19c"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="36" y="36" width="4" height="11" uuid="b3a9965b-643c-42dc-babe-1ddf1c1982ec">
					<printWhenExpression><![CDATA[$F{codigo_barras} != null]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="53">
			<printWhenExpression><![CDATA[$P{id_documento} != null]]></printWhenExpression>
			<subreport>
				<reportElement x="0" y="11" width="155" height="33" uuid="dfb35062-8184-4253-88e3-1449e24308a4"/>
				<subreportParameter name="factura">
					<subreportParameterExpression><![CDATA[$P{id_documento}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "cabeceraDocumento.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="300" height="11" backcolor="#CCCCCC" uuid="faebe9c8-ccdc-432f-a079-0a2a324970fa"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[DATOS DOCUMENTO RELACIONADO]]></text>
			</staticText>
		</band>
	</columnHeader>
</jasperReport>
